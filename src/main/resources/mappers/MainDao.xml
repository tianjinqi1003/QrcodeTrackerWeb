<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qdhualing.qrcodetracker.dao.MainDao">

    <select id="getBcpTkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.BcpTkdBean">
        SELECT *
        FROM Tkd_Bcp
        WHERE ThR = #{0} AND Check_State = 0
    </select>
    <select id="getBcpCkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.BcpCkdBean">
        SELECT *
        FROM Ckd_Bcp
        WHERE FhR = #{0} AND Check_State = 0
    </select>
    <select id="getBcpRkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.BcpRkdBean">
        SELECT *
        FROM Rkd_Bcp
        WHERE JhR = #{0} AND Check_State = 0
    </select>
    <select id="getWlTkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.WlTkdBean">
        SELECT *
        FROM Tkd_Wl
        WHERE ThR = #{0} AND Check_State = 0
    </select>
    <select id="getWlCkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.WlCkdBean">
        SELECT *
        FROM Ckd_Wl
        WHERE LhR = #{0} AND Check_State = 0
    </select>
    <select id="getWlRkCanModifyData" resultType="com.qdhualing.qrcodetracker.bean.WlRkdBean">
        SELECT *
        FROM Rkd_Wl
        WHERE ShR = #{0} AND Check_State = 0
    </select>

    <select id="getAllPerson" resultType="com.qdhualing.qrcodetracker.bean.PersonBean">
		SELECT *
		FROM Hl_User
	</select>

    <update id="updateCpCkdData" parameterType="com.qdhualing.qrcodetracker.bean.CpOutVerifyResult">
        UPDATE Ckd_Bcp SET LhDw = #{lhDw}, FhFzr=#{fhFzr}, FhR=#{lhR}, LhFzr=#{lhFzr}, Remark=#{remark}
        WHERE OutDh = #{outDh}
    </update>

    <update id="updateBcpTkData" parameterType="com.qdhualing.qrcodetracker.bean.BcpTkShowBean">
        UPDATE M_BCPBk SET SHL=#{shl}, remark=#{remark}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateBcpTkdData" parameterType="com.qdhualing.qrcodetracker.bean.BcpTkVerifyResult">
        UPDATE Tkd_Bcp SET ThDw = #{thDw}, ThFzr=#{thFzr}, ShR=#{thR}, ShFzr=#{shFzr}, Remark=#{remark}
        WHERE BackDh = #{backDh}
    </update>

    <update id="updateBigCpInData" parameterType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        UPDATE M_CPIn2 SET CP_Code = #{wLCode}, CP_Name=#{productName}, SortID=#{sortID}, YLPC=#{yLPC},
        DWZL=#{dWZL}, GG=#{gG}, DW=#{dW}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateSmallCpInData" parameterType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        UPDATE M_CPIn SET CP_Code = #{wLCode}, CP_Name=#{productName}, SortID=#{sortID}, YLPC=#{yLPC},
        DWZL=#{dWZL}, SHL=#{shl}, GG=#{gG}, DW=#{dW}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateBcpInData" parameterType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        UPDATE M_BCPIn SET BCP_Code = #{wLCode}, ProductName=#{productName}, SortID=#{sortID}, YLPC=#{yLPC},
        DWZL=#{dWZL}, SHL=#{shl}, GG=#{gG}, DW=#{dW}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateBcpRkdData" parameterType="com.qdhualing.qrcodetracker.bean.BcpInVerifyResult">
        UPDATE Rkd_Bcp SET JhDw = #{jhDw}, JhFzr=#{jhFzr}, ShR=#{jhR}, ShFzr=#{shFzr}, Remark=#{remark}
        WHERE InDh = #{inDh}
    </update>

    <update id="updateWlTkData" parameterType="com.qdhualing.qrcodetracker.bean.WLTkShowBean">
        UPDATE M_WLBk SET SHL=#{shl}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateWlTkdData" parameterType="com.qdhualing.qrcodetracker.bean.WlTkVerifyResult">
        UPDATE Tkd_Wl SET ThDw = #{thDw}, ThFzr=#{thFzr}, ShR=#{thR}, ShFzr=#{shFzr}, Remark=#{remark}
        WHERE BackDh = #{backDh}
    </update>

    <update id="updateWlOutData" parameterType="com.qdhualing.qrcodetracker.bean.WLINShowBean">
        UPDATE M_WLOUT SET SHL=#{shl}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateWlCkdData" parameterType="com.qdhualing.qrcodetracker.bean.WlOutVerifyResult">
        UPDATE Ckd_Wl SET LhDw = #{lhDw}, LhFzr=#{lhFzr}, FhR=#{lhR}, FhFzr=#{fhFzr}, Remark=#{remark}
        WHERE OutDh = #{outDh}
    </update>

    <update id="updateWlInData" parameterType="com.qdhualing.qrcodetracker.bean.WLINShowBean">
        UPDATE M_WLIn SET WL_Code = #{wLCode}, ProductName=#{productName}, SortID=#{sortID}, YLPC=#{yLPC}, PCZL=#{pCZL},
        DWZL=#{dWZL}, SHL=#{shl}, CHD=#{cHD}, GG=#{gG}, Unit=#{dW}, remark=#{remark}
        WHERE QRCode_ID = #{qRCodeID}
    </update>
    <update id="updateWlRkdData" parameterType="com.qdhualing.qrcodetracker.bean.WlInVerifyResult">
        UPDATE Rkd_Wl SET JhDw = #{fhDw}, ShRq=#{shRq}, ShFzr=#{shFzr}, JhR=#{fhR}, JhFzr=#{jhFzr}, Remark=#{remark}
        WHERE InDh = #{inDh}
    </update>

    <update id="changeBIG_CPInPassCheckFlag">
        UPDATE M_CPIn2 SET ZJZT = 1, ZJY=#{1}
        WHERE QRCode_ID = #{0}
    </update>

    <update id="changeSMALL_CPInPassCheckFlag">
        UPDATE M_CPIn SET ZJZT = 1, ZJY=#{1}
        WHERE QRCode_ID = #{0}
    </update>

    <update id="changeBCPInPassCheckFlag">
        UPDATE M_BCPIn SET ZJZT = 1, ZJY=#{1}
        WHERE QRCode_ID = #{0}
    </update>

    <update id="changeWLInPassCheckFlag">
        UPDATE M_WLIn SET ZJZT = 1, ZJY=#{1}
        WHERE QRCode_ID = #{0}
    </update>


    <select id="getBigCpIn2ShowData" resultType="com.qdhualing.qrcodetracker.bean.BigCpTrackResult">
        SELECT M_CPIn2.CP_Name , M_CPIn2.YLPC , M_CPIn2.SCPC ,M_CPIn2.CP_Code,
        M_CPIn2.SC_Time , M_CPIn2.GG , Pdt_Sort2.Sort_Name ,M_CPIn2.DWZL,
        M_CPIn2.CZY ,M_CPIn2.DW
        FROM M_CPIn2 LEFT JOIN Pdt_Sort2 on M_CPIn2.SortID = Pdt_Sort2.ID
        WHERE M_CPIn2.QRCode_ID = #{0}
    </select>
    <select id="getSmallCpInShowData" resultType="com.qdhualing.qrcodetracker.bean.SmallCpTrackResult">
        SELECT M_CPIn.CP_Name , M_CPIn.YLPC , M_CPIn.SCPC ,M_CPIn.CP_Code,
        M_CPIn.SC_Time , M_CPIn.GG , Pdt_Sort2.Sort_Name ,M_CPIn.DWZL,
        M_CPIn.CZY ,M_CPIn.DW
        FROM M_CPIn LEFT JOIN Pdt_Sort2 on M_CPIn.SortID = Pdt_Sort2.ID
        WHERE M_CPIn.QRCode_ID = #{0}
    </select>
    <select id="getBcpInShowData" resultType="com.qdhualing.qrcodetracker.bean.BcpTrackResult">
        SELECT M_BCPIn.ProductName , M_BCPIn.YLPC , M_BCPIn.SCPC ,M_BCPIn.BCP_Code,
        M_BCPIn.SC_Time , M_BCPIn.GG , Pdt_Sort2.Sort_Name ,M_BCPIn.DWZL,
        M_BCPIn.CZY ,M_BCPIn.DW ,M_BCPIn.CheJian ,M_BCPIn.GX
        FROM M_BCPIn LEFT JOIN Pdt_Sort2 on M_BCPIn.SortID = Pdt_Sort2.ID
        WHERE M_BCPIn.QRCode_ID = #{0}
    </select>

    <update id="refuseBcpTk">
        UPDATE Tkd_Bcp SET Check_State = 0
        WHERE BackDh = #{0}
    </update>
    <update id="agreeBcpTk">
        UPDATE Tkd_Bcp SET Check_State = 1
        WHERE BackDh = #{0}
    </update>
    <update id="refuseBcpOut">
        UPDATE Ckd_Bcp SET Check_State = 0
        WHERE OutDh = #{0}
    </update>
    <update id="agreeBcpOut">
        UPDATE Ckd_Bcp SET Check_State = 1
        WHERE OutDh = #{0}
    </update>
    <update id="refuseBcpIn">
        UPDATE Rkd_Bcp SET Check_State = 0
        WHERE InDh = #{0}
    </update>
    <update id="agreeBcpIn">
        UPDATE Rkd_Bcp SET Check_State = 1
        WHERE InDh = #{0}
    </update>
    <update id="refuseWlTk">
        UPDATE Tkd_Wl SET Check_State = 0
        WHERE BackDh = #{0}
    </update>
    <update id="agreeWlTk">
        UPDATE Tkd_Wl SET Check_State = 1
        WHERE BackDh = #{0}
    </update>
    <update id="refuseWlOut">
        UPDATE Ckd_Wl SET Check_State = 0
        WHERE OutDh = #{0}
    </update>
    <update id="agreeWlOut">
        UPDATE Ckd_Wl SET Check_State = 1
        WHERE OutDh = #{0}
    </update>
    <update id="refuseWlIn">
        UPDATE Rkd_Wl SET Check_State = 0
        WHERE InDh = #{0}
    </update>
    <update id="agreeWlIn">
        UPDATE Rkd_Wl SET Check_State = 1
        WHERE InDh = #{0}
    </update>
    <select id="getBcpTkShowBeanListByBackDh" resultType="com.qdhualing.qrcodetracker.bean.BcpTkShowBean">
        SELECT *
        FROM M_BCPBk
        WHERE BackDh = #{0}
    </select>

    <select id="getBcpTkdBean" resultType="com.qdhualing.qrcodetracker.bean.BcpTkdBean">
        SELECT *
        FROM Tkd_Bcp
        WHERE BackDh = #{0}
    </select>
    <select id="getCpOutShowBeanListByOutDh" resultType="com.qdhualing.qrcodetracker.bean.CpOutShowBean">
        SELECT *
        FROM M_CPOut
        WHERE OutDh = #{0}
    </select>

    <select id="getBcpCkdBean" resultType="com.qdhualing.qrcodetracker.bean.BcpCkdBean">
        SELECT *
        FROM Ckd_Bcp
        WHERE OutDh = #{0}
    </select>

    <select id="getBigCpInShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        SELECT QRCode_ID as qRCodeID, CP_Code as wLCode, CP_Name as productName, GG as gG, SortID as sortID,
        YLPC as yLPC, SC_Time as time, Indh as inDh, DW as dW, DWZL as dWZL
        FROM M_CPIn2
        WHERE Indh = #{0}
    </select>
    <select id="getCpInShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        SELECT  QRCode_ID as qRCodeID, CP_Code as wLCode, CP_Name as productName, GG as gG, SortID as sortID,
        YLPC as yLPC, SC_Time as time, InDh as inDh, DW as dW, DWZL as dWZL,SHL as shl
        FROM M_CPIn
        WHERE InDh = #{0}
    </select>
    <select id="getBcpInShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.BcpInShowBean">
        SELECT QRCode_ID as qRCodeID, BCP_Code as wLCode, ProductName as productName, GG as gG, SortID as sortID,
        YLPC as yLPC, SC_Time as time, InDh as inDh, DW as dW, DWZL as dWZL,SHL as shl
        FROM M_BCPIn
        WHERE InDh = #{0}
    </select>

    <select id="getBcpRkdBean" resultType="com.qdhualing.qrcodetracker.bean.BcpRkdBean">
        SELECT *
        FROM Rkd_Bcp
        WHERE InDh = #{0}
    </select>

    <select id="getWLTkShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.WLTkShowBean">
        SELECT *
        FROM M_WLBk
        WHERE OutDh = #{0}
    </select>

    <select id="getWlTkdBean" resultType="com.qdhualing.qrcodetracker.bean.WlTkdBean">
        SELECT *
        FROM Tkd_Wl
        WHERE BackDh = #{0}
    </select>

    <select id="getWLOutShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.WLOutShowBean">
        SELECT *
        FROM M_WLOUT
        WHERE OutDh = #{0}
    </select>

    <select id="getWlCkdBean" resultType="com.qdhualing.qrcodetracker.bean.WlCkdBean">
        SELECT *
        FROM Ckd_Wl
        WHERE OutDh = #{0}
    </select>

    <select id="getWLINShowBeanListByInDh" resultType="com.qdhualing.qrcodetracker.bean.WLINShowBean">
        SELECT *
        FROM M_WLIn
        WHERE InDh = #{0}
    </select>

    <select id="getWlRkdBean" resultType="com.qdhualing.qrcodetracker.bean.WlRkdBean">
        SELECT *
        FROM Rkd_Wl
        WHERE InDh = #{0}
    </select>

    <select id="getBcpTkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.BcpTkdBean">
        SELECT *
        FROM Tkd_Bcp
        WHERE ShR = #{0}
    </select>

    <select id="getBcpCkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.BcpCkdBean">
        SELECT *
        FROM Ckd_Bcp
        WHERE FhR = #{0}
    </select>

    <select id="getBcpRkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.BcpRkdBean">
        SELECT *
        FROM Rkd_Bcp
        WHERE ShR = #{0}
    </select>

    <select id="getWlTkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.WlTkdBean">
        SELECT *
        FROM Tkd_Wl
        WHERE ShR = #{0}
    </select>

    <select id="getWlCkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.WlCkdBean">
        SELECT *
        FROM Ckd_Wl
        WHERE FhR = #{0}
    </select>

    <select id="getWlRkNonCheckData" resultType="com.qdhualing.qrcodetracker.bean.WlRkdBean">
        SELECT *
        FROM Rkd_Wl
        WHERE ShFzr = #{0}
    </select>

    <select id="getFhrFromBcpCkd" resultType="java.lang.String">
        SELECT FhR
        FROM Ckd_Bcp
        WHERE OutDh = #{0}
    </select>

    <select id="getShrFromBcpTkd" resultType="java.lang.String">
        SELECT ShR
        FROM Tkd_Bcp
        WHERE BackDh = #{0}
    </select>

    <select id="getShrFromBcpRkd" resultType="java.lang.String">
        SELECT ShR
        FROM Rkd_Bcp
        WHERE InDh = #{0}
    </select>

    <select id="getShrFromWlTkd" resultType="java.lang.String">
        SELECT ShR
        FROM Tkd_Wl
        WHERE BackDh = #{0}
    </select>

    <select id="getFhrFromWlCkd" resultType="java.lang.String">
        SELECT FhR
        FROM Ckd_Wl
        WHERE OutDh = #{0}
    </select>

    <select id="getShrFromWlRkd" resultType="java.lang.String">
        SELECT ShR
        FROM Rkd_Wl
        WHERE InDh = #{0}
    </select>

    <select id="getBigCpIn2" resultType="com.qdhualing.qrcodetracker.bean.BigCpBean">
        SELECT *
        FROM M_CPIn2
        WHERE QRCode_ID = #{0}
    </select>
    <select id="getSmallCpInData" resultType="com.qdhualing.qrcodetracker.bean.CPINParam">
        SELECT *
        FROM M_CPIn
        WHERE QRCode_ID = #{0}
    </select>

    <select id="getComponentBeansFromBcp" resultType="com.qdhualing.qrcodetracker.bean.ComponentBean">
        SELECT DISTINCT QRCode_ID , ProductName as name
        from M_BCPIn
        WHERE QRCode_ID in
        <foreach collection="list" item="qrCodeId" index="index" open="(" close=")" separator=",">
            #{qrCodeId}
        </foreach>
    </select>
    <select id="getComponentBeansFromWl" resultType="com.qdhualing.qrcodetracker.bean.ComponentBean">
        SELECT DISTINCT QRCode_ID , ProductName as name
        from M_WLIn
        WHERE QRCode_ID in
        <foreach collection="list" item="qrCodeId" index="index" open="(" close=")" separator=",">
            #{qrCodeId}
        </foreach>
    </select>
    <select id="getPdtSortBySortId" resultType="java.lang.String">
        SELECT Sort_Name
        FROM Pdt_Sort2
        WHERE ID = #{0}
    </select>

    <select id="getBcpInData" resultType="com.qdhualing.qrcodetracker.bean.BCPINParam">
        SELECT *
        FROM M_BCPIn
        WHERE QRCode_ID = #{0}
    </select>

    <select id="getWlInData" resultType="com.qdhualing.qrcodetracker.bean.WlTrackResult">
        SELECT M_WLIn.ProductName , M_WLIn.YLPC , M_WLIn.PCZL ,M_WLIn.WL_Code,
        M_WLIn.LL_Time , M_WLIn.GG , Pdt_Sort2.Sort_Name ,M_WLIn.DWZL,
        M_WLIn.CHD , M_WLIn.CZY ,M_WLIn.Unit
        FROM M_WLIn LEFT JOIN Pdt_Sort2 on M_WLIn.SortID = Pdt_Sort2.ID
        WHERE M_WLIn.QRCode_ID = #{0}
    </select>

    <select id="getSmallCpOutData" resultType="com.qdhualing.qrcodetracker.bean.SmallCpOutGetDataResult">
        SELECT M_CPS.CP_Name , M_CPS.YLPC , M_CPS.SCPC , M_CPS.SC_Time as scDate , M_CPS.GG , Pdt_Sort2.Sort_Name
        FROM M_CPS LEFT JOIN Pdt_Sort2 on M_CPS.SortID = Pdt_Sort2.ID
        WHERE M_CPS.QRCode_ID = #{0}
    </select>

    <select id="getCPS" resultType="com.qdhualing.qrcodetracker.bean.SmallCpBean">
        SELECT *
        FROM M_CPS
        WHERE QRCode_ID = #{0}
    </select>

    <insert id="insertCPOutBySmallParam" parameterType="com.qdhualing.qrcodetracker.bean.SmallCpOutParam">
        insert into M_CPOut
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="cpName!=null">
                CP_Name,
            </if>
            SortID,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="fhDate!=null">
                FHDate,
            </if>
            DWZL,
            <if test="fhr!=null">
                FHR,
            </if>
            <if test="outDh!=null">
                OutDh,
            </if>
            <if test="remark!=null">
                remark,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="cpName!=null">
                #{cpName},
            </if>
            #{sortId},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="fhDate!=null">
                #{fhDate},
            </if>
            #{dwzl},
            <if test="fhr!=null">
                #{fhr},
            </if>
            <if test="outDh!=null">
                #{outDh},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <delete id="deleteCPSByQrId">
        DELETE FROM M_CPS
        WHERE QRCode_ID = #{0}
    </delete>

    <select id="getCP2ShowData" resultType="com.qdhualing.qrcodetracker.bean.BigCpOutGetDataResult">
         SELECT M_CPS2.CP_Name , M_CPS2.YLPC , M_CPS2.SCPC , M_CPS2.SC_Time as scDate , M_CPS2.GG , Pdt_Sort2.Sort_Name
        FROM M_CPS2 LEFT JOIN Pdt_Sort2 on M_CPS2.SortID = Pdt_Sort2.ID
        WHERE M_CPS2.QRCode_ID = #{0}
    </select>

    <delete id="deleteCPSByCps2QrId">
        DELETE FROM M_CPS
        WHERE CPS2_QRCode = #{0}
    </delete>

    <delete id="deleteCPS2ByQrId">
        DELETE FROM M_CPS2
        WHERE QRCode_ID = #{0}
    </delete>

    <insert id="insertCPOut" parameterType="com.qdhualing.qrcodetracker.bean.BigCpOutParam">
        insert into M_CPOut
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="cpName!=null">
                CP_Name,
            </if>
            SortID,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="fhDate!=null">
                FHDate,
            </if>
            DWZL,
            <if test="fhr!=null">
                FHR,
            </if>
            <if test="outDh!=null">
                OutDh,
            </if>
            <if test="remark!=null">
                remark,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="cpName!=null">
                #{cpName},
            </if>
            #{sortId},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="fhDate!=null">
                #{fhDate},
            </if>
            #{dwzl},
            <if test="fhr!=null">
                #{fhr},
            </if>
            <if test="outDh!=null">
                #{outDh},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <update id="updateCPIn2" parameterType="com.qdhualing.qrcodetracker.bean.BigCpBean">
        UPDATE M_CPIn2
        SET
        SmlPk1	= #{smlPk1},
        SmlPk2	= #{smlPk2},
        SmlPk3	= #{smlPk3},
        SmlPk4		= #{smlPk4},
        SmlPk5		= #{smlPk5},
        SmlPk6	= #{smlPk6},
        SmlPk7	= #{smlPk7},
        SmlPk8		= #{smlPk8},
        SmlPk9		= #{smlPk9},
        SmlPk10		= #{smlPk10},
        SmlPk11		= #{smlPk11},
        SmlPk12		= #{smlPk12},
        SmlPk13		= #{smlPk13},
        SmlPk14		= #{smlPk14},
        SmlPk15		= #{smlPk15},
        SmlPk16		= #{smlPk16},
        SmlPk17		= #{smlPk17},
        SmlPk18		= #{smlPk18},
        SmlPk19		= #{smlPk19},
        SmlPk20		= #{smlPk20},
        SmlPk21		= #{smlPk21},
        SmlPk22		= #{smlPk22},
        SmlPk23	= #{smlPk23},
        SmlPk24	= #{smlPk24},
        SmlPk25		= #{smlPk25},
        SmlPk26		= #{smlPk26},
        SmlPk27		= #{smlPk27},
        SmlPk28		= #{smlPk28},
        SmlPk29		= #{smlPk29},
        SmlPk30		= #{smlPk30},
        SmlPk31	= #{smlPk31},
        SmlPk32		= #{smlPk32},
        SmlPk33		= #{smlPk33},
        SmlPk34		= #{smlPk34},
        SmlPk35		= #{smlPk35},
        SmlPk36		= #{smlPk36},
        SmlPk37		= #{smlPk37},
        SmlPk38	= #{smlPk38},
        SmlPk39	= #{smlPk39},
        SmlPk40		= #{smlPk40},
        SmlPk41		= #{smlPk41},
        SmlPk42		= #{smlPk42},
        SmlPk43	= #{smlPk43},
        SmlPk44		= #{smlPk44},
        SmlPk45		= #{smlPk45},
        SmlPk46	= #{smlPk46},
        SmlPk47		= #{smlPk47},
        SmlPk48		= #{smlPk48},
        SmlPk49		= #{smlPk49},
        SmlPk50		= #{smlPk50}
        WHERE QRCode_ID = #{qRCodeID}
    </update>

    <update id="updateCPS2" parameterType="com.qdhualing.qrcodetracker.bean.BigCpBean">
      UPDATE M_CPS2
      SET
        Now_Num = #{nowNum},
        SmlPk1	= #{smlPk1},
        SmlPk2	= #{smlPk2},
        SmlPk3	= #{smlPk3},
      SmlPk4		= #{smlPk4},
      SmlPk5		= #{smlPk5},
      SmlPk6	= #{smlPk6},
      SmlPk7	= #{smlPk7},
SmlPk8		= #{smlPk8},
SmlPk9		= #{smlPk9},
SmlPk10		= #{smlPk10},
SmlPk11		= #{smlPk11},
SmlPk12		= #{smlPk12},
SmlPk13		= #{smlPk13},
SmlPk14		= #{smlPk14},
SmlPk15		= #{smlPk15},
SmlPk16		= #{smlPk16},
SmlPk17		= #{smlPk17},
SmlPk18		= #{smlPk18},
SmlPk19		= #{smlPk19},
SmlPk20		= #{smlPk20},
SmlPk21		= #{smlPk21},
SmlPk22		= #{smlPk22},
SmlPk23	= #{smlPk23},
SmlPk24	= #{smlPk24},
SmlPk25		= #{smlPk25},
SmlPk26		= #{smlPk26},
SmlPk27		= #{smlPk27},
SmlPk28		= #{smlPk28},
SmlPk29		= #{smlPk29},
SmlPk30		= #{smlPk30},
SmlPk31	= #{smlPk31},
SmlPk32		= #{smlPk32},
SmlPk33		= #{smlPk33},
SmlPk34		= #{smlPk34},
SmlPk35		= #{smlPk35},
SmlPk36		= #{smlPk36},
SmlPk37		= #{smlPk37},
SmlPk38	= #{smlPk38},
SmlPk39	= #{smlPk39},
SmlPk40		= #{smlPk40},
SmlPk41		= #{smlPk41},
SmlPk42		= #{smlPk42},
SmlPk43	= #{smlPk43},
SmlPk44		= #{smlPk44},
SmlPk45		= #{smlPk45},
      SmlPk46	= #{smlPk46},
      SmlPk47		= #{smlPk47},
      SmlPk48		= #{smlPk48},
        SmlPk49		= #{smlPk49},
        SmlPk50		= #{smlPk50}
      WHERE QRCode_ID = #{qRCodeID}
    </update>

    <select id="getCPS2" resultType="com.qdhualing.qrcodetracker.bean.BigCpBean">
        SELECT *
        FROM M_CPS2
        WHERE QRCode_ID = #{0}
    </select>

    <insert id="insertCPIn" parameterType="com.qdhualing.qrcodetracker.bean.SmallCPINParam">
        insert into M_CPIn
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                CP_Name,
            </if>
            SortID,
            SHL,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            BZ,
            <if test="indh!=null">
                InDh,
            </if>
            <if test="cPS2QRCode!=null">
                CPS2_QRCode,
            </if>
            <if test="gg!=null">
                GG,
            </if>
            <if test="yl1!=null">
                Yl_1,
            </if>
            <if test="yl2!=null">
                Yl_2,
            </if>
            <if test="yl3!=null">
                Yl_3,
            </if>
            <if test="yl4!=null">
                Yl_4,
            </if>
            <if test="yl5!=null">
                Yl_5,
            </if>
            <if test="yl6!=null">
                Yl_6,
            </if>
            <if test="yl7!=null">
                Yl_7,
            </if>
            <if test="yl8!=null">
                Yl_8,
            </if>
            <if test="yl9!=null">
                Yl_9,
            </if>
            <if test="yl10!=null">
                Yl_10,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            #{sortID},
            #{shl},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            #{bz},
            <if test="indh!=null">
                #{indh},
            </if>
            <if test="cPS2QRCode!=null">
                #{cPS2QRCode},
            </if>
            <if test="gg!=null">
                #{gg},
            </if>
            <if test="yl1!=null">
                #{yl1},
            </if>
            <if test="yl2!=null">
                #{yl2},
            </if>
            <if test="yl3!=null">
                #{yl3},
            </if>
            <if test="yl4!=null">
                #{yl4},
            </if>
            <if test="yl5!=null">
                #{yl5},
            </if>
            <if test="yl6!=null">
                #{yl6},
            </if>
            <if test="yl7!=null">
                #{yl7},
            </if>
            <if test="yl8!=null">
                #{yl8},
            </if>
            <if test="yl9!=null">
                #{yl9},
            </if>
            <if test="yl10!=null">
                #{yl10},
            </if>
        </trim>
    </insert>


    <insert id="insertCPS" parameterType="com.qdhualing.qrcodetracker.bean.SmallCPINParam">
        insert into M_CPS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                CP_Name,
            </if>
            SortID,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            <if test="cPS2QRCode!=null">
                CPS2_QRCode,
            </if>
            <if test="gg!=null">
                GG,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            #{sortID},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            <if test="cPS2QRCode!=null">
                #{cPS2QRCode},
            </if>
            <if test="gg!=null">
                #{gg},
            </if>
        </trim>
    </insert>

    <select id="findCPS" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_CPS
        WHERE QRCode_ID = #{0}
    </select>
    <select id="getBigCpData" resultType="com.qdhualing.qrcodetracker.bean.BigCpBean">
        SELECT *
        FROM M_CPS2
    </select>

    <insert id="insertCPS2" parameterType="com.qdhualing.qrcodetracker.bean.BigCPINParam">
        insert into M_CPS2
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                CP_Name,
            </if>
            SortID,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="jybz!=null">
                JYBZ,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            <if test="gg!=null">
                GG,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            #{sortID},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="jybz!=null">
                #{jybz},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            <if test="dw!=null">
                #{gg},
            </if>
        </trim>
    </insert>


    <select id="findCPS2" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_CPS2
        WHERE QRCode_ID = #{0}
    </select>

    <insert id="insertCPIn2" parameterType="com.qdhualing.qrcodetracker.bean.BigCPINParam">
        insert into M_CPIn2
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                CP_Name,
            </if>
            SortID,
            <if test="cpCode!=null">
                CP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="jybz!=null">
                JYBZ,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            <if test="gg!=null">
                GG,
            </if>
            <if test="indh!=null">
                InDh,
            </if>
            BZ,
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            #{sortID},
            <if test="cpCode!=null">
                #{cpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="jybz!=null">
                #{jybz},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            <if test="dw!=null">
                #{gg},
            </if>
            <if test="indh!=null">
                #{indh},
            </if>
            #{bz},
        </trim>
    </insert>

    <insert id="createBCP_CKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateBCPCKDParam">
        insert into Ckd_Bcp
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                OutDh,
            </if>
            <if test="lhDw!=null">
                LhDw,
            </if>
            <if test="lhRq!=null">
                LhRq,
            </if>
            <if test="fhr!=null">
                FhR,
            </if>
            <if test="fhFzr!=null">
                FhFzr,
            </if>
            <if test="lhr!=null">
                LhR,
            </if>
            <if test="lhFzr!=null">
                LhFzr,
            </if>
            <if test="remark!=null">
                Remark,
            </if>
            <if test="jhDw!=null">
                JhDw,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                #{outDh},
            </if>
            <if test="lhDw!=null">
                #{lhDw},
            </if>
            <if test="lhRq!=null">
                #{lhRq},
            </if>
            <if test="fhr!=null">
                #{fhr},
            </if>
            <if test="fhFzr!=null">
                #{fhFzr},
            </if>
            <if test="lhr!=null">
                #{lhr},
            </if>
            <if test="lhFzr!=null">
                #{lhFzr},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
            <if test="jhDw!=null">
                #{jhDw},
            </if>
        </trim>
    </insert>

    <update id="updateBCPTempSByBCPTk" parameterType="com.qdhualing.qrcodetracker.bean.BCPTKParam">
        UPDATE M_BCPTempS
        SET SHL = SHL - #{shl}
        WHERE QRCode_ID = #{qrCodeId};
    </update>

    <update id="updateBCPSByTk" parameterType="com.qdhualing.qrcodetracker.bean.BCPTKParam">
        UPDATE M_BCPS
        SET SHL = SHL + #{shl}
        WHERE QRCode_ID = #{qrCodeId}
    </update>

    <insert id="insertBCPS" parameterType="com.qdhualing.qrcodetracker.bean.BCPTKParam">
        insert into M_BCPS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                ProductName,
            </if>
            <if test="sortID!=null">
                SortID,
            </if>
            <if test="bcpCode!=null">
                BCP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            SHL,
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="ksTime!=null">
                KS_Time,
            </if>
            <if test="wcTime!=null">
                WC_Time,
            </if>
            <if test="gx!=null">
                GX,
            </if>
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="cheJian!=null">
                CheJian,
            </if>
            <if test="yl1!=null">
                Yl_1,
            </if>
            <if test="yl2!=null">
                Yl_2,
            </if>
            <if test="yl3!=null">
                Yl_3,
            </if>
            <if test="yl4!=null">
                Yl_4,
            </if>
            <if test="yl5!=null">
                Yl_5,
            </if>
            <if test="yl6!=null">
                Yl_6,
            </if>
            <if test="yl7!=null">
                Yl_7,
            </if>
            <if test="yl8!=null">
                Yl_8,
            </if>
            <if test="yl9!=null">
                Yl_9,
            </if>
            <if test="yl10!=null">
                Yl_10,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            <if test="sortID!=null">
                #{sortID},
            </if>
            <if test="bcpCode!=null">
                #{bcpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            #{shl},
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="ksTime!=null">
                #{ksTime},
            </if>
            <if test="wcTime!=null">
                #{wcTime},
            </if>
            <if test="gx!=null">
                #{gx},
            </if>
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="cheJian!=null">
                #{cheJian},
            </if>
            <if test="yl1!=null">
                #{yl1},
            </if>
            <if test="yl2!=null">
                #{yl2},
            </if>
            <if test="yl3!=null">
                #{yl3},
            </if>
            <if test="yl4!=null">
                #{yl4},
            </if>
            <if test="yl5!=null">
                #{yl5},
            </if>
            <if test="yl6!=null">
                #{yl6},
            </if>
            <if test="yl7!=null">
                #{yl7},
            </if>
            <if test="yl8!=null">
                #{yl8},
            </if>
            <if test="yl9!=null">
                #{yl9},
            </if>
            <if test="yl10!=null">
                #{yl10},
            </if>
        </trim>
    </insert>

    <select id="getBCPSCount" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_BCPS
        WHERE QRCode_ID = #{0}
    </select>

    <insert id="insertBCPBk" parameterType="com.qdhualing.qrcodetracker.bean.BCPTKParam">
        insert into M_BCPBk
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                ProductName,
            </if>
            <if test="sortID!=null">
                SortID,
            </if>
            <if test="bcpCode!=null">
                BCP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            SHL,
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="ksTime!=null">
                KS_Time,
            </if>
            <if test="wcTime!=null">
                WC_Time,
            </if>
            <if test="gx!=null">
                GX,
            </if>
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="cheJian!=null">
                CheJian,
            </if>
            <if test="backDh!=null">
                BackDh,
            </if>
            <if test="remark!=null">
                remark,
            </if>
            <if test="tkTime!=null">
                TK_Time,
            </if>
            <if test="thr!=null">
                Thr,
            </if>
            <if test="shrr!=null">
                Shr,
            </if>
            <if test="thDw!=null">
                ThDw,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            <if test="sortID!=null">
                #{sortID},
            </if>
            <if test="bcpCode!=null">
                #{bcpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            #{shl},
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="ksTime!=null">
                #{ksTime},
            </if>
            <if test="wcTime!=null">
                #{wcTime},
            </if>
            <if test="gx!=null">
                #{gx},
            </if>
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="cheJian!=null">
                #{cheJian},
            </if>
            <if test="backDh!=null">
                #{backDh},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
            <if test="tkTime!=null">
                #{tkTime},
            </if>
            <if test="thr!=null">
                #{thr},
            </if>
            <if test="shrr!=null">
                #{shrr},
            </if>
            <if test="thDw!=null">
                #{thDw},
            </if>
        </trim>
    </insert>

    <select id="getTKDBCPBean" resultType="com.qdhualing.qrcodetracker.bean.TKDBCPBean">
        SELECT *
        FROM Tkd_Bcp
        WHERE BackDh = #{0}
    </select>

    <select id="getBCPTKShowData" resultType="com.qdhualing.qrcodetracker.bean.BCPTKShowDataResult">
        SELECT M_BCPTempS.ProductName , M_BCPTempS.DWZL , M_BCPTempS.SHL , M_BCPTempS.YLPC , M_BCPTempS.SCPC , M_BCPTempS.SC_Time , M_BCPTempS.GG , M_BCPTempS.DW , Pdt_Sort2.Sort_Name
        FROM M_BCPTempS LEFT JOIN Pdt_Sort2 on M_BCPTempS.SortID = Pdt_Sort2.ID
        WHERE M_BCPTempS.QRCode_ID = #{0}
    </select>

    <insert id="createBCP_TKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateBCPTKDParam">
        insert into Tkd_Bcp
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="backDh!=null">
                BackDh,
            </if>
            <if test="thDw!=null">
                ThDw,
            </if>
            <if test="thRq!=null">
                ThRq,
            </if>
            <if test="shrr!=null">
                Shr,
            </if>
            <if test="shFzr!=null">
                ShFzr,
            </if>
            <if test="thr!=null">
                ThR,
            </if>
            <if test="thFzr!=null">
                ThFzr,
            </if>
            <if test="remark!=null">
                Remark,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="backDh!=null">
                #{backDh},
            </if>
            <if test="thDw!=null">
                #{thDw},
            </if>
            <if test="thRq!=null">
                #{thRq},
            </if>
            <if test="shrr!=null">
                #{shrr},
            </if>
            <if test="shFzr!=null">
                #{shFzr},
            </if>
            <if test="thr!=null">
                #{thr},
            </if>
            <if test="thFzr!=null">
                #{thFzr},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <update id="updateBcpTempSByTl" parameterType="com.qdhualing.qrcodetracker.bean.BcpThrowParam">
        UPDATE M_BCPTempS
        SET SHL = SHL - #{tlShl}
        WHERE QRCode_ID = #{qrcodeId};
    </update>

    <delete id="deleteFromBcpTempS">
        DELETE FROM M_BCPTempS
        WHERE QRCode_ID = #{0}
    </delete>

    <update id="updateBcpTl" parameterType="com.qdhualing.qrcodetracker.bean.BcpThrowParam">
        UPDATE M_BCPTl
        SET SHL = SHL + #{tlShl}
        WHERE QRCode_ID = #{qrcodeId};
    </update>

    <insert id="insertBcpTl" parameterType="com.qdhualing.qrcodetracker.bean.BcpThrowParam">
        insert into M_BCPTl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrcodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                ProductName,
            </if>
            <if test="sortId!=null">
                SortID,
            </if>
            <if test="bcpCode!=null">
                BCP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="gg!=null">
                GG,
            </if>
            SHL,
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="ksTime!=null">
                KS_Time,
            </if>
            <if test="wcTime!=null">
                WC_Time,
            </if>
            <if test="gx!=null">
                GX,
            </if>
            <if test="cjId!=null">
                CJ_ID,
            </if>
            <if test="gxId!=null">
                GX_ID,
            </if>
            <if test="czy!=null">
                CZY,
            </if>
            <if test="remark!=null">
                remark,
            </if>
            <if test="tlTime!=null">
                TL_Time,
            </if>
            <if test="cheJian!=null">
                CheJian,
            </if>
            <if test="dw!=null">
                DW,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrcodeId!=null">
                #{qrcodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            <if test="sortId!=null">
                #{sortId},
            </if>
            <if test="bcpCode!=null">
                #{bcpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="gg!=null">
                #{gg},
            </if>
            #{tlShl},
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="ksTime!=null">
                #{ksTime},
            </if>
            <if test="wcTime!=null">
                #{wcTime},
            </if>
            <if test="gx!=null">
                #{gx},
            </if>
            <if test="cjId!=null">
                #{cjId},
            </if>
            <if test="gxId!=null">
                #{gxId},
            </if>
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
            <if test="tlTime!=null">
                #{tlTime},
            </if>
            <if test="cheJian!=null">
                #{cheJian},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
        </trim>
    </insert>

    <select id="getBcpTLDataCount" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_BCPTl
        WHERE QRCode_ID = #{0}
    </select>

    <select id="getBcpTempS" resultType="com.qdhualing.qrcodetracker.bean.BCPTempSBean">
        SELECT *
        FROM M_BCPTempS
        WHERE QRCode_ID = #{0}
    </select>

    <select id="getBcpTempSData" resultType="com.qdhualing.qrcodetracker.bean.BcpThrowShowDataResult">
        SELECT M_BCPTempS.ProductName , M_BCPTempS.DWZL , M_BCPTempS.SHL , M_BCPTempS.YLPC , M_BCPTempS.SCPC , M_BCPTempS.SC_Time , M_BCPTempS.GG , M_BCPTempS.DW , Pdt_Sort2.Sort_Name
        FROM M_BCPTempS LEFT JOIN Pdt_Sort2 on M_BCPTempS.SortID = Pdt_Sort2.ID
        WHERE M_BCPTempS.QRCode_ID = #{0}
    </select>

    <update id="updateBCPTempS" parameterType="com.qdhualing.qrcodetracker.bean.BCPINParam">
        UPDATE M_BCPTempS
        SET SHL = SHL + #{shl}
        WHERE QRCode_ID = #{qrCodeId};
    </update>

    <insert id="insertBCPTempS" parameterType="com.qdhualing.qrcodetracker.bean.BCPINParam">
        insert into M_BCPTempS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                ProductName,
            </if>
            <if test="sortID!=null">
                SortID,
            </if>
            <if test="bcpCode!=null">
                BCP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="gg!=null">
                GG,
            </if>
            SHL,
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="ksTime!=null">
                KS_Time,
            </if>
            <if test="wcTime!=null">
                WC_Time,
            </if>
            <if test="gx!=null">
                GX,
            </if>
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="jybz!=null">
                JYBZ,
            </if>
            <if test="cheJian!=null">
                CheJian,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            <if test="yl1!=null">
                Yl_1,
            </if>
            <if test="yl2!=null">
                Yl_2,
            </if>
            <if test="yl3!=null">
                Yl_3,
            </if>
            <if test="yl4!=null">
                Yl_4,
            </if>
            <if test="yl5!=null">
                Yl_5,
            </if>
            <if test="yl6!=null">
                Yl_6,
            </if>
            <if test="yl7!=null">
                Yl_7,
            </if>
            <if test="yl8!=null">
                Yl_8,
            </if>
            <if test="yl9!=null">
                Yl_9,
            </if>
            <if test="yl10!=null">
                Yl_10,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            <if test="sortID!=null">
                #{sortID},
            </if>
            <if test="bcpCode!=null">
                #{bcpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="gg!=null">
                #{gg},
            </if>
            #{shl},
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="ksTime!=null">
                #{ksTime},
            </if>
            <if test="wcTime!=null">
                #{wcTime},
            </if>
            <if test="gx!=null">
                #{gx},
            </if>
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="jybz!=null">
                #{jybz},
            </if>
            <if test="cheJian!=null">
                #{cheJian},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            <if test="yl1!=null">
                #{yl1},
            </if>
            <if test="yl2!=null">
                #{yl2},
            </if>
            <if test="yl3!=null">
                #{yl3},
            </if>
            <if test="yl4!=null">
                #{yl4},
            </if>
            <if test="yl5!=null">
                #{yl5},
            </if>
            <if test="yl6!=null">
                #{yl6},
            </if>
            <if test="yl7!=null">
                #{yl7},
            </if>
            <if test="yl8!=null">
                #{yl8},
            </if>
            <if test="yl9!=null">
                #{yl9},
            </if>
            <if test="yl10!=null">
                #{yl10},
            </if>
        </trim>
    </insert>

    <select id="findBCPTempS" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_BCPTempS
        WHERE QRCode_ID = #{0}
    </select>

    <update id="updateCPIn2ByParam" parameterType="com.qdhualing.qrcodetracker.bean.BigCPINParam">
        update M_CPIn2
        set
        CP_Name = #{productName},
        SortID = #{sortID},
        CP_Code = #{cpCode},
        YLPC = #{ylpc},
        SCPC = #{scpc},
        SC_Time = #{scTime},
        DWZL = #{dwzl},
        CZY = #{czy},
        ZJY = #{zjy},
        JYZT = #{jyzt},
        JYBZ = #{jybz},
        DW = #{dw},
        GG = #{gg},
        Indh = #{indh}
        where QRCode_ID=#{qrCodeId}
    </update>

    <update id="updateCPIn" parameterType="com.qdhualing.qrcodetracker.bean.SmallCPINParam">
        update M_CPIn
        set
        CP_Name=#{productName},
        SortID=#{sortID},
        SHL=#{shl},
        CP_Code=#{cpCode},
        YLPC=#{ylpc},
        SCPC=#{scpc},
        SC_Time=#{scTime},
        DWZL=#{dwzl},
        CZY=#{czy},
        ZJY=#{zjy},
        JYZT=#{jyzt},
        DW=#{dw},
        BZ=#{bz},
        InDh=#{indh},
        CPS2_QRCode=#{cPS2QRCode},
        GG=#{gg},
        Yl_1=#{yl1},
        Yl_2=#{yl2},
        Yl_3=#{yl3},
        Yl_4=#{yl4},
        Yl_5=#{yl5},
        Yl_6=#{yl6},
        Yl_7=#{yl7},
        Yl_8=#{yl8},
        Yl_9=#{yl9},
        Yl_10=#{yl10}
        where QRCode_ID=#{qrCodeId}
    </update>
    <update id="updateBcpIn" parameterType="com.qdhualing.qrcodetracker.bean.BCPINParam">
        update M_BCPIn
        set   ProductName=#{productName},
                SortID=#{sortID},
                BCP_Code= #{bcpCode},
                YLPC =#{ylpc},
                SCPC=#{scpc},
                GG= #{gg},
                SHL=#{shl},
                SC_Time=#{scTime},
                DWZL= #{dwzl},
                KS_Time=#{ksTime},
                WC_Time=#{wcTime},
                GX=#{gx},
                CZY=#{czy},
                ZJY=#{zjy},
                JYZT=#{jyzt},
                JYBZ= #{jybz},
                BZ= #{bz},
                CheJian=#{cheJian},
                InDh=#{indh},
                DW=#{dw},
                Yl_1= #{yl1},
                Yl_2= #{yl2},
                Yl_3=#{yl3},
                Yl_4= #{yl4},
                Yl_5=#{yl5},
                Yl_6= #{yl6},
                Yl_7= #{yl7},
                Yl_8=#{yl8},
                Yl_9=#{yl9},
                Yl_10=#{yl10}
    where QRCode_ID=#{qrCodeId}
    </update>

    <insert id="insertBCPIn" parameterType="com.qdhualing.qrcodetracker.bean.BCPINParam">
        insert into M_BCPIn
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                QRCode_ID,
            </if>
            <if test="productName!=null">
                ProductName,
            </if>
            <if test="sortID!=null">
                SortID,
            </if>
            <if test="bcpCode!=null">
                BCP_Code,
            </if>
            <if test="ylpc!=null">
                YLPC,
            </if>
            <if test="scpc!=null">
                SCPC,
            </if>
            <if test="gg!=null">
                GG,
            </if>
            SHL,
            <if test="scTime!=null">
                SC_Time,
            </if>
            DWZL,
            <if test="ksTime!=null">
                KS_Time,
            </if>
            <if test="wcTime!=null">
                WC_Time,
            </if>
            <if test="gx!=null">
                GX,
            </if>
            <if test="czy!=null">
                CZY,
            </if>
            <if test="zjy!=null">
                ZJY,
            </if>
            <if test="jyzt!=null">
                JYZT,
            </if>
            <if test="jybz!=null">
                JYBZ,
            </if>
            <if test="bz!=null">
                BZ,
            </if>
            <if test="cheJian!=null">
                CheJian,
            </if>
            <if test="indh!=null">
                InDh,
            </if>
            <if test="dw!=null">
                DW,
            </if>
            <if test="yl1!=null">
                Yl_1,
            </if>
            <if test="yl2!=null">
                Yl_2,
            </if>
            <if test="yl3!=null">
                Yl_3,
            </if>
            <if test="yl4!=null">
                Yl_4,
            </if>
            <if test="yl5!=null">
                Yl_5,
            </if>
            <if test="yl6!=null">
                Yl_6,
            </if>
            <if test="yl7!=null">
                Yl_7,
            </if>
            <if test="yl8!=null">
                Yl_8,
            </if>
            <if test="yl9!=null">
                Yl_9,
            </if>
            <if test="yl10!=null">
                Yl_10,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">
                #{qrCodeId},
            </if>
            <if test="productName!=null">
                #{productName},
            </if>
            <if test="sortID!=null">
                #{sortID},
            </if>
            <if test="bcpCode!=null">
                #{bcpCode},
            </if>
            <if test="ylpc!=null">
                #{ylpc},
            </if>
            <if test="scpc!=null">
                #{scpc},
            </if>
            <if test="gg!=null">
                #{gg},
            </if>
            #{shl},
            <if test="scTime!=null">
                #{scTime},
            </if>
            #{dwzl},
            <if test="ksTime!=null">
                #{ksTime},
            </if>
            <if test="wcTime!=null">
                #{wcTime},
            </if>
            <if test="gx!=null">
                #{gx},
            </if>
            <if test="czy!=null">
                #{czy},
            </if>
            <if test="zjy!=null">
                #{zjy},
            </if>
            <if test="jyzt!=null">
                #{jyzt},
            </if>
            <if test="jybz!=null">
                #{jybz},
            </if>
            <if test="bz!=null">
                #{bz},
            </if>
            <if test="cheJian!=null">
                #{cheJian},
            </if>
            <if test="indh!=null">
                #{indh},
            </if>
            <if test="dw!=null">
                #{dw},
            </if>
            <if test="yl1!=null">
                #{yl1},
            </if>
            <if test="yl2!=null">
                #{yl2},
            </if>
            <if test="yl3!=null">
                #{yl3},
            </if>
            <if test="yl4!=null">
                #{yl4},
            </if>
            <if test="yl5!=null">
                #{yl5},
            </if>
            <if test="yl6!=null">
                #{yl6},
            </if>
            <if test="yl7!=null">
                #{yl7},
            </if>
            <if test="yl8!=null">
                #{yl8},
            </if>
            <if test="yl9!=null">
                #{yl9},
            </if>
            <if test="yl10!=null">
                #{yl10},
            </if>
        </trim>
    </insert>

    <update id="updateWLTl" parameterType="com.qdhualing.qrcodetracker.bean.WLThrowParam">
        UPDATE M_WLTl
        SET SHL = SHL + #{tlShl}
        WHERE QRCode_ID = #{qrcodeId};
    </update>

    <select id="getWLTLDataCount" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_WLTl
        WHERE QRCode_ID = #{0}
    </select>

    <select id="getWLTLDataByGxId" resultType="com.qdhualing.qrcodetracker.bean.TLYLBean">
        SELECT ID , QRCode_ID , ProductName
        FROM M_WLTl
        WHERE GX_ID = #{0}
    </select>

    <select id="getBCPTLDataByGxId" resultType="com.qdhualing.qrcodetracker.bean.TLYLBean">
        SELECT ID , QRCode_ID , ProductName
        FROM M_BCPTl
        WHERE GX_ID = #{0}
    </select>

    <insert id="createBCP_RKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateBCPRKDParam">
        insert into Rkd_Bcp
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="JhDw!=null">
                JhDw,
            </if>
            <if test="ShRq!=null">
                ShRq,
            </if>
            <if test="InDh!=null">
                InDh,
            </if>
            <if test="Shr!=null">
                Shr,
            </if>
            <if test="Jhr!=null">
                Jhr,
            </if>
            <if test="ShFzr!=null">
                ShFzr,
            </if>
            <if test="JhFzr!=null">
                JhFzr,
            </if>
            <if test="remark!=null">
                Remark,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="JhDw!=null">
                #{JhDw},
            </if>
            <if test="ShRq!=null">
                #{ShRq},
            </if>
            <if test="InDh!=null">
                #{InDh},
            </if>
            <if test="Shr!=null">
                #{Shr},
            </if>
            <if test="Jhr!=null">
                #{Jhr},
            </if>
            <if test="ShFzr!=null">
                #{ShFzr},
            </if>
            <if test="JhFzr!=null">
                #{JhFzr},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <select id="getGXData" resultType="com.qdhualing.qrcodetracker.bean.GXBean">
        SELECT *
        FROM Hl_GongXu
        WHERE id IN
        <foreach item="item" index="index" collection="array" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>

    <select id="getCJData" resultType="com.qdhualing.qrcodetracker.bean.CJBean">
        SELECT *
        FROM Hl_CheJian
    </select>

    <update id="updateWLTempSByTl" parameterType="com.qdhualing.qrcodetracker.bean.WLThrowParam">
        UPDATE M_WLTempS
        SET SHL = SHL - #{tlShl}
        WHERE QRCode_ID = #{qrcodeId};
    </update>

    <insert id="insertWLTl" parameterType="com.qdhualing.qrcodetracker.bean.WLThrowParam">
        insert into M_WLTl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrcodeId!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            DWZL,
            <if test="sortId!=null">SortID,</if>
            <if test="wlCode!=null">WL_Code,</if>
            <if test="ylpc!=null">YLPC,</if>
            <if test="gg!=null">GG,</if>
            <if test="dw!=null">DW,</if>
            <if test="cj!=null">TlCJ,</if>
            <if test="gx!=null">Tl_Gx,</if>
            <if test="cjId!=-1">CJ_ID,</if>
            <if test="gxId!=-1">GX_ID,</if>
            SHL,
            <if test="czy!=null">CZY,</if>
            <if test="tlTime!=null">Tl_TIME,</if>
            <if test="remark!=null">BZ,</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrcodeId!=null">#{qrcodeId},</if>
            <if test="productName!=null">#{productName},</if>
            #{dwzl},
            <if test="sortId!=null">#{sortId},</if>
            <if test="wlCode!=null">#{wlCode},</if>
            <if test="ylpc!=null">#{ylpc},</if>
            <if test="gg!=null">#{gg},</if>
            <if test="dw!=null">#{dw},</if>
            <if test="cj!=null">#{cj},</if>
            <if test="gx!=null">#{gx},</if>
            <if test="cjId!=null">#{cjId},</if>
            <if test="gxId!=null">#{gxId},</if>
            #{tlShl},
            <if test="czy!=null">#{czy},</if>
            <if test="tlTime!=null">#{tlTime},</if>
            <if test="remark!=null">#{remark},</if>
        </trim>
    </insert>

    <update id="updateWLTempSByTk" parameterType="com.qdhualing.qrcodetracker.bean.WLTKParam">
        UPDATE M_WLTempS
        SET SHL = SHL - #{tkShL}
        WHERE QRCode_ID = #{qrCodeId};
    </update>

    <delete id="deleteFromWLTempS">
        DELETE FROM M_WLTempS
        WHERE QRCode_ID = #{0}
    </delete>

    <update id="updateWLSByTk" parameterType="com.qdhualing.qrcodetracker.bean.WLTKParam">
        UPDATE M_WLS
        SET SHL = SHL + #{tkShL}
        WHERE QRCode_ID = #{qrCodeId};
    </update>

    <insert id="insertWLBk" parameterType="com.qdhualing.qrcodetracker.bean.WLTKParam">
        insert into M_WLBk
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            DWZL,
            <if test="sortId!=null">SortID,</if>
            <if test="wlCode!=null">WL_Code,</if>
            <if test="ylpc!=null">YLPC,</if>
            <if test="gg!=null">GG,</if>
            <if test="dw!=null">DW,</if>
            <if test="tkbm!=null">TKBM,</if>
            SHL,
            <if test="flr!=null">FLR,</if>
            <if test="llr!=null">LLR,</if>
            <if test="time!=null">TIME,</if>
            <if test="outDh!=null">OutDh,</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">#{qrCodeId},</if>
            <if test="productName!=null">#{productName},</if>
            #{dwzl},
            <if test="sortId!=null">#{sortId},</if>
            <if test="wlCode!=null">#{wlCode},</if>
            <if test="ylpc!=null">#{ylpc},</if>
            <if test="gg!=null">#{gg},</if>
            <if test="dw!=null">#{dw},</if>
            <if test="tkbm!=null">#{tkbm},</if>
            #{tkShL},
            <if test="flr!=null">#{flr},</if>
            <if test="llr!=null">#{llr},</if>
            <if test="time!=null">#{time},</if>
            <if test="outDh!=null">#{outDh},</if>
        </trim>
    </insert>

    <select id="getWLTempS" resultType="com.qdhualing.qrcodetracker.bean.WLTempSBean">
        SELECT *
        FROM M_WLTempS
        WHERE QRCode_ID = #{0}
    </select>

    <select id="findWL_TKD" resultType="com.qdhualing.qrcodetracker.bean.TKDWLBean">
        SELECT *
        FROM Tkd_Wl
        WHERE BackDh = #{0}
    </select>

    <select id="getWLTempSData" resultType="com.qdhualing.qrcodetracker.bean.WLTKShowDataResult">
        SELECT M_WLTempS.ProductName , M_WLTempS.DWZL , M_WLTempS.SHL , M_WLTempS.CHD , M_WLTempS.GG , M_WLTempS.DW , Pdt_Sort2.Sort_Name
        FROM M_WLTempS LEFT JOIN Pdt_Sort2 on M_WLTempS.SortID = Pdt_Sort2.ID
        WHERE M_WLTempS.QRCode_ID = #{0}
    </select>


    <insert id="createWL_TKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateWLTKDParam">
        insert into Tkd_Wl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="backDh!=null">
                BackDh,
            </if>
            <if test="thDw!=null">
                ThDw,
            </if>
            <if test="thRq!=null">
                ThRq,
            </if>
            <if test="shrr!=null">
                Shr,
            </if>
            <if test="shFzr!=null">
                ShFzr,
            </if>
            <if test="thr!=null">
                ThR,
            </if>
            <if test="thFzr!=null">
                ThFzr,
            </if>
            <if test="remark!=null">
                Remark,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="backDh!=null">
                #{backDh},
            </if>
            <if test="thDw!=null">
                #{thDw},
            </if>
            <if test="thRq!=null">
                #{thRq},
            </if>
            <if test="shrr!=null">
                #{shrr},
            </if>
            <if test="shFzr!=null">
                #{shFzr},
            </if>
            <if test="thr!=null">
                #{thr},
            </if>
            <if test="thFzr!=null">
                #{thFzr},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <update id="updateWLTempS" parameterType="com.qdhualing.qrcodetracker.bean.WLOutParam">
        UPDATE M_WLTempS
        SET
        LL_Time = #{time},
        SHL = SHL + #{ckShL}
        WHERE QRCode_ID = #{qrCodeId};
    </update>

    <select id="findWLTempS" resultType="java.lang.Integer">
        SELECT COUNT(0)
        FROM M_WLTempS
        WHERE QRCode_ID = #{0}
    </select>

    <insert id="insertWLTempS" parameterType="com.qdhualing.qrcodetracker.bean.WLOutParam">
        insert into M_WLTempS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            DWZL,
            <if test="sortId!=null">SortID,</if>
            <if test="wlCode!=null">WL_Code,</if>
            <if test="ylpc!=null">YLPC,</if>
            <if test="gg!=null">GG,</if>
            SHL,
            <if test="llr!=null">CZY,</if>
            <if test="chd!=null">CHD,</if>
            <if test="time!=null">LL_Time,</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">#{qrCodeId},</if>
            <if test="productName!=null">#{productName},</if>
            #{dwzl},
            <if test="sortId!=null">#{sortId},</if>
            <if test="wlCode!=null">#{wlCode},</if>
            <if test="ylpc!=null">#{ylpc},</if>
            <if test="gg!=null">#{gg},</if>
            #{ckShL},
            <if test="llr!=null">#{llr},</if>
            <if test="chd!=null">#{chd},</if>
            <if test="time!=null">#{time},</if>
        </trim>
    </insert>

    <select id="getUserGroupData" resultType="com.qdhualing.qrcodetracker.bean.UserGroupBean">
        SELECT *
        FROM Hl_UserGroup
    </select>


    <update id="outUpdateWLS" parameterType="com.qdhualing.qrcodetracker.bean.WLOutParam">

        UPDATE M_WLS
        SET
        SHL = SHL-#{ckShL}
        WHERE QRCode_ID = #{qrCodeId};

    </update>

    <insert id="insertWLOUT" parameterType="com.qdhualing.qrcodetracker.bean.WLOutParam">
        insert into M_WLOUT
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            DWZL,
            <if test="dw!=null">DW,</if>
            <if test="bz!=null">Bz,</if>
            <if test="sortId!=null">SortID,</if>
            <if test="wlCode!=null">WL_Code,</if>
            <if test="ylpc!=null">YLPC,</if>
            <if test="gg!=null">GG,</if>
            SHL,
            <if test="outDh!=null">OutDh,</if>
            <if test="flr!=null">FLR,</if>
            <if test="llr!=null">LLR,</if>
            <if test="time!=null">TIME,</if>
            <if test="llbm!=null">LLBM</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qrCodeId!=null">#{qrCodeId},</if>
            <if test="productName!=null">#{productName},</if>
            #{dwzl},
            <if test="dw!=null">#{dw},</if>
            <if test="bz!=null">#{bz},</if>
            <if test="sortId!=null">#{sortId},</if>
            <if test="wlCode!=null">#{wlCode},</if>
            <if test="ylpc!=null">#{ylpc},</if>
            <if test="gg!=null">#{gg},</if>
            #{ckShL},
            <if test="outDh!=null">#{outDh},</if>
            <if test="flr!=null">#{flr},</if>
            <if test="llr!=null">#{llr},</if>
            <if test="time!=null">#{time},</if>
            <if test="llbm!=null">#{llbm}</if>
        </trim>
    </insert>

    <select id="findWLS" resultType="com.qdhualing.qrcodetracker.bean.WLSBean">
        SELECT *
        FROM M_WLS
        where QRCode_ID = #{0}
    </select>

    <select id="findWL_CKD" resultType="com.qdhualing.qrcodetracker.bean.CKDWLBean">
        SELECT *
        FROM Ckd_Wl
        where OutDh = #{0}
    </select>

    <update id="updateWLS" parameterType="com.qdhualing.qrcodetracker.bean.WLINParam">

        UPDATE M_WLS
        SET YLPC = #{yLPC},
             PCZL = PCZL+#{pCZL},
            LL_Time = #{lLTime},
            SHL = SHL+#{shl}
        WHERE QRCode_ID = #{qRCodeID};

    </update>

    <insert id="insertWLS" parameterType="com.qdhualing.qrcodetracker.bean.WLINParam">
        insert into M_WLS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qRCodeID!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            <if test="dWZL!=null">DWZL,</if>
            <if test="pCZL!=null">PCZL,</if>
            <if test="dW!=null">DW,</if>
            <if test="lb!=null">SortID,</if>
            <if test="wLCode!=null">WL_Code,</if>
            <if test="yLPC!=null">YLPC,</if>
            <if test="gG!=null">GG,</if>
            <if test="cHD!=null">CHD,</if>
            SHL,
            <if test="cZY!=null">CZY,</if>
            <if test="lLTime!=null">LL_Time</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qRCodeID!=null">#{qRCodeID},</if>
            <if test="productName!=null">#{productName},</if>
            <if test="dWZL!=null">#{dWZL},</if>
            <if test="pCZL!=null">#{pCZL},</if>
            <if test="dW!=null">#{dW},</if>
            <if test="lb!=null">#{lb},</if>
            <if test="wLCode!=null">#{wLCode},</if>
            <if test="yLPC!=null">#{yLPC},</if>
            <if test="gG!=null">#{gG},</if>
            <if test="cHD!=null">#{cHD},</if>
            #{shl},
            <if test="cZY!=null">#{cZY},</if>
            <if test="lLTime!=null">#{lLTime}</if>
        </trim>
    </insert>

    <select id="queryWLS" resultType="java.lang.Integer">
		SELECT count(0)
		FROM M_WLS
		where QRCode_ID = #{0}
	</select>

    <select id="getWLSData" resultType="com.qdhualing.qrcodetracker.bean.WLOutShowDataResult">
		SELECT M_WLS.ProductName, M_WLS.PCZL , M_WLS.DWZL, M_WLS.SHL, M_WLS.CHD, M_WLS.GG, M_WLS.DW, Pdt_Sort2.Sort_Name
		FROM M_WLS left JOIN Pdt_Sort2 on M_WLS.SortID = Pdt_Sort2.ID
		where M_WLS.QRCode_ID = #{qrcodeId}
	</select>


    <insert id="createWLWT_CKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateWLCKDParam">
        insert into Ckd_WlWt
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                OutDh,
            </if>
            <if test="lhDw!=null">
                ShDw,
            </if>
            <if test="lhRq!=null">
                ShRq,
            </if>
            <if test="fhR!=null">
                Fhr,
            </if>
            <if test="lhR!=null">
                Shr,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                #{outDh},
            </if>
            <if test="lhDw!=null">
                #{lhDw},
            </if>
            <if test="lhRq!=null">
                #{lhRq},
            </if>
            <if test="fhR!=null">
                #{fhR},
            </if>
            <if test="lhR!=null">
                #{lhR},
            </if>
        </trim>
    </insert>

    <insert id="createWL_CKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateWLCKDParam">
        insert into Ckd_Wl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                OutDh,
            </if>
            <if test="lhDw!=null">
                LhDw,
            </if>
            <if test="lhRq!=null">
                LhRq,
            </if>
            <if test="fhR!=null">
                FhR,
            </if>
            <if test="fhFzr!=null">
                FhFzr,
            </if>
            <if test="lhR!=null">
                LhR,
            </if>
            <if test="lhFzr!=null">
                LhFzr,
            </if>
            <if test="remark!=null">
                Remark
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="outDh!=null">
                #{outDh},
            </if>
            <if test="lhDw!=null">
                #{lhDw},
            </if>
            <if test="lhRq!=null">
                #{lhRq},
            </if>
            <if test="fhR!=null">
                #{fhR},
            </if>
            <if test="fhFzr!=null">
                #{fhFzr},
            </if>
            <if test="lhR!=null">
                #{lhR},
            </if>
            <if test="lhFzr!=null">
                #{lhFzr},
            </if>
            <if test="remark!=null">
                #{remark},
            </if>
        </trim>
    </insert>

    <select id="getHlSort" resultType="com.qdhualing.qrcodetracker.bean.HlSortBean">
		SELECT *
		FROM Hl_Sort
	</select>

    <select id="getPdtSort" resultType="com.qdhualing.qrcodetracker.bean.PdtSortBean">
		SELECT *
		FROM Pdt_Sort2
	</select>

    <select id="getMaterialInData" resultType="com.qdhualing.qrcodetracker.bean.DataResult">
		SELECT
		mwlin.*,mwls.YuJing,mwls.Company
		FROM M_WLIn as mwlin left join M_WLS as mwls
		on mwlin.QRCode_ID=mwls.QRCode_ID
		where mwlin.QRCode_ID=#{qrcodeId}
	</select>

    <insert id="createWLWT_RKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateWLRKDParam">
        insert into Rkd_WlWt
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="FhDw!=null">
                FhDw,
            </if>
            <if test="ShRq!=null">
                ShRq,
            </if>
            <if test="InDh!=null">
                InDh,
            </if>
            <if test="Shr!=null">
                Shr,
            </if>
            <if test="Fhr!=null">
                Fhr
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="FhDw!=null">
                #{FhDw},
            </if>
            <if test="ShRq!=null">
                #{ShRq},
            </if>
            <if test="InDh!=null">
                #{InDh},
            </if>
            <if test="Shr!=null">
                #{Shr},
            </if>
            <if test="Fhr!=null">
                #{Fhr}
            </if>
        </trim>
    </insert>

    <insert id="createWL_RKD" parameterType="com.qdhualing.qrcodetracker.bean.CreateWLRKDParam">
        insert into Rkd_Wl
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="ShRq!=null">
                ShRq,
            </if>
            <if test="InDh!=null">
                InDh,
            </if>
            <if test="Shr!=null">
                Shr,
            </if>
            <if test="ShFzr!=null">
                ShFzr,
            </if>
            <if test="JhFzr!=null">
                JhFzr,
            </if>
            <if test="Fhr!=null">
                JhR,
            </if>
            <if test="FhDw!=null">
                JhDw,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="ShRq!=null">
                #{ShRq},
            </if>
            <if test="InDh!=null">
                #{InDh},
            </if>
            <if test="Shr!=null">
                #{Shr},
            </if>
            <if test="ShFzr!=null">
                #{ShFzr},
            </if>
            <if test="JhFzr!=null">
                #{JhFzr},
            </if>
            <if test="Fhr!=null">
                #{Fhr},
            </if>
            <if test="FhDw!=null">
                #{FhDw},
            </if>
        </trim>
    </insert>

    <update id="updateWLIN_M" parameterType="com.qdhualing.qrcodetracker.bean.WLINParam">
        update M_WLIn
        set
            ProductName = #{productName},
            DWZL = #{dWZL},
            PCZL = #{pCZL},
            Unit = #{dW},
            Bz = #{bz},
            SortID = #{lb},
            remark = #{remark},
            WL_Code = #{wLCode},
            YLPC = #{yLPC},
            GG = #{gG},
            CHD = #{cHD},
            SHL = #{shl},
            InDh = #{inDh},
            CZY = #{cZY},
            LL_Time = #{lLTime}
        where QRCode_ID=#{qRCodeID}
    </update>

    <insert id="createWLIN_M" parameterType="com.qdhualing.qrcodetracker.bean.WLINParam">
        insert into M_WLIn
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qRCodeID!=null">QRCode_ID,</if>
            <if test="productName!=null">ProductName,</if>
            <if test="dWZL!=null">DWZL,</if>
            <if test="pCZL!=null">PCZL,</if>
            <if test="dW!=null">Unit,</if>
            <if test="bz!=null">Bz,</if>
            <if test="lb!=null">SortID,</if>
            <if test="remark!=null">remark,</if>
            <if test="wLCode!=null">WL_Code,</if>
            <if test="yLPC!=null">YLPC,</if>
            <if test="gG!=null">GG,</if>
            <if test="cHD!=null">CHD,</if>
            SHL,
            <if test="inDh!=null">InDh,</if>
            <if test="cZY!=null">CZY,</if>
            <if test="lLTime!=null">LL_Time</if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="qRCodeID!=null">#{qRCodeID},</if>
            <if test="productName!=null">#{productName},</if>
            <if test="dWZL!=null">#{dWZL},</if>
            <if test="pCZL!=null">#{pCZL},</if>
            <if test="dW!=null">#{dW},</if>
            <if test="bz!=null">#{bz},</if>
            <if test="lb!=null">#{lb},</if>
            <if test="remark!=null">#{remark},</if>
            <if test="wLCode!=null">#{wLCode},</if>
            <if test="yLPC!=null">#{yLPC},</if>
            <if test="gG!=null">#{gG},</if>
            <if test="cHD!=null">#{cHD},</if>
            #{shl},
            <if test="inDh!=null">#{inDh},</if>
            <if test="cZY!=null">#{cZY},</if>
            <if test="lLTime!=null">#{lLTime}</if>
        </trim>
    </insert>

    <select id="getCreateRKDParamByInDh" resultType="com.qdhualing.qrcodetracker.bean.CreateWLRKDParam">
		select * from
		Rkd_Wl where InDh=#{inDh}
	</select>

    <select id="getWLINParamListByInDh" resultType="com.qdhualing.qrcodetracker.bean.WLINParam">
		select * from
		M_WLIn where InDh=#{inDh}
	</select>

    <select id="getWLSParamByQRCode" resultType="com.qdhualing.qrcodetracker.bean.WLINParam">
		select * from M_WLS
		where QRCode_ID=#{qRCodeID}
	</select>

    <update id="updataWLINParamByQRCode">
		update M_WLS set PCZL=#{0}
		where QRCode_ID=#{1}
	</update>
</mapper>